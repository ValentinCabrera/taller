{"ast":null,"code":"export async function getFetch(url, token) {\n  const headers = {\n    'Content-Type': 'application/json'\n  };\n  if (token) headers['Token'] = token;\n  const response = await fetch(url, {\n    headers: headers\n  });\n  const data = await response.json();\n  return data;\n}\n;\nexport async function postFetch(url, body, token) {\n  const headers = {\n    'Content-Type': 'application/json'\n  };\n  if (token) headers['Token'] = token;\n  const response = await fetch(url, {\n    method: 'POST',\n    headers: headers,\n    body: JSON.stringify(body)\n  });\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  const responseText = await response.text();\n  try {\n    return JSON.parse(responseText);\n  } catch (error) {\n    throw new Error(\"Error al analizar la respuesta JSON\");\n  }\n}\nexport const host = \"http://localhost:8080/\";\nexport async function postNewVehiculo(patente, modelo, cliente, año) {\n  return postFetch(`${host}api/vehiculo/new`, {\n    patente: patente,\n    modelo: {\n      \"id\": modelo\n    },\n    cliente: {\n      \"id\": cliente\n    },\n    año: año\n  });\n}\n;\nexport async function getVehiculos() {\n  return getFetch(`${host}api/vehiculo/listar`);\n}\nexport async function postRecoverVehiculo(patente) {\n  return postFetch(`${host}api/vehiculo/recover`, {\n    patente: patente\n  });\n}\nexport async function getVehiculosDeleted() {\n  return getFetch(`${host}api/vehiculo/listar/deleted`);\n}\nexport async function postDeleteVehiculo(patente) {\n  return postFetch(`${host}api/vehiculo/delete`, {\n    \"patente\": patente\n  });\n}","map":{"version":3,"names":["getFetch","url","token","headers","response","fetch","data","json","postFetch","body","method","JSON","stringify","ok","Error","status","responseText","text","parse","error","host","postNewVehiculo","patente","modelo","cliente","año","getVehiculos","postRecoverVehiculo","getVehiculosDeleted","postDeleteVehiculo"],"sources":["/Users/valentincabrera/Library/Mobile Documents/com~apple~CloudDocs/General/UTN/4to/ProgramacionAvanzada/taller/front/src/Utils/Fetchs.js"],"sourcesContent":["export async function getFetch(url, token) {\n    const headers = { 'Content-Type': 'application/json' };\n    if (token) headers['Token'] = token;\n\n    const response = await fetch(url, { headers: headers });\n    const data = await response.json();\n    return data;\n};\n\nexport async function postFetch(url, body, token) {\n    const headers = { 'Content-Type': 'application/json' };\n    if (token) headers['Token'] = token;\n\n    const response = await fetch(url, { method: 'POST', headers: headers, body: JSON.stringify(body) });\n\n    if (!response.ok) {\n        throw new Error(response.status);\n    }\n\n    const responseText = await response.text();\n\n    try {\n        return JSON.parse(responseText);\n    } catch (error) {\n        throw new Error(\"Error al analizar la respuesta JSON\");\n    }\n}\n\nexport const host = \"http://localhost:8080/\";\n\n\nexport async function postNewVehiculo(patente, modelo, cliente, año) {\n    return postFetch(`${host}api/vehiculo/new`, { patente: patente, modelo: { \"id\": modelo }, cliente: { \"id\": cliente }, año: año });\n};\n\nexport async function getVehiculos() {\n    return getFetch(`${host}api/vehiculo/listar`);\n}\n\nexport async function postRecoverVehiculo(patente) {\n    return postFetch(`${host}api/vehiculo/recover`, { patente: patente });\n}\n\nexport async function getVehiculosDeleted() {\n    return getFetch(`${host}api/vehiculo/listar/deleted`);\n}\n\nexport async function postDeleteVehiculo(patente) {\n    return postFetch(`${host}api/vehiculo/delete`, { \"patente\": patente });\n}"],"mappings":"AAAA,OAAO,eAAeA,QAAQA,CAACC,GAAG,EAAEC,KAAK,EAAE;EACvC,MAAMC,OAAO,GAAG;IAAE,cAAc,EAAE;EAAmB,CAAC;EACtD,IAAID,KAAK,EAAEC,OAAO,CAAC,OAAO,CAAC,GAAGD,KAAK;EAEnC,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAACJ,GAAG,EAAE;IAAEE,OAAO,EAAEA;EAAQ,CAAC,CAAC;EACvD,MAAMG,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;EAClC,OAAOD,IAAI;AACf;AAAC;AAED,OAAO,eAAeE,SAASA,CAACP,GAAG,EAAEQ,IAAI,EAAEP,KAAK,EAAE;EAC9C,MAAMC,OAAO,GAAG;IAAE,cAAc,EAAE;EAAmB,CAAC;EACtD,IAAID,KAAK,EAAEC,OAAO,CAAC,OAAO,CAAC,GAAGD,KAAK;EAEnC,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAACJ,GAAG,EAAE;IAAES,MAAM,EAAE,MAAM;IAAEP,OAAO,EAAEA,OAAO;IAAEM,IAAI,EAAEE,IAAI,CAACC,SAAS,CAACH,IAAI;EAAE,CAAC,CAAC;EAEnG,IAAI,CAACL,QAAQ,CAACS,EAAE,EAAE;IACd,MAAM,IAAIC,KAAK,CAACV,QAAQ,CAACW,MAAM,CAAC;EACpC;EAEA,MAAMC,YAAY,GAAG,MAAMZ,QAAQ,CAACa,IAAI,CAAC,CAAC;EAE1C,IAAI;IACA,OAAON,IAAI,CAACO,KAAK,CAACF,YAAY,CAAC;EACnC,CAAC,CAAC,OAAOG,KAAK,EAAE;IACZ,MAAM,IAAIL,KAAK,CAAC,qCAAqC,CAAC;EAC1D;AACJ;AAEA,OAAO,MAAMM,IAAI,GAAG,wBAAwB;AAG5C,OAAO,eAAeC,eAAeA,CAACC,OAAO,EAAEC,MAAM,EAAEC,OAAO,EAAEC,GAAG,EAAE;EACjE,OAAOjB,SAAS,CAAE,GAAEY,IAAK,kBAAiB,EAAE;IAAEE,OAAO,EAAEA,OAAO;IAAEC,MAAM,EAAE;MAAE,IAAI,EAAEA;IAAO,CAAC;IAAEC,OAAO,EAAE;MAAE,IAAI,EAAEA;IAAQ,CAAC;IAAEC,GAAG,EAAEA;EAAI,CAAC,CAAC;AACrI;AAAC;AAED,OAAO,eAAeC,YAAYA,CAAA,EAAG;EACjC,OAAO1B,QAAQ,CAAE,GAAEoB,IAAK,qBAAoB,CAAC;AACjD;AAEA,OAAO,eAAeO,mBAAmBA,CAACL,OAAO,EAAE;EAC/C,OAAOd,SAAS,CAAE,GAAEY,IAAK,sBAAqB,EAAE;IAAEE,OAAO,EAAEA;EAAQ,CAAC,CAAC;AACzE;AAEA,OAAO,eAAeM,mBAAmBA,CAAA,EAAG;EACxC,OAAO5B,QAAQ,CAAE,GAAEoB,IAAK,6BAA4B,CAAC;AACzD;AAEA,OAAO,eAAeS,kBAAkBA,CAACP,OAAO,EAAE;EAC9C,OAAOd,SAAS,CAAE,GAAEY,IAAK,qBAAoB,EAAE;IAAE,SAAS,EAAEE;EAAQ,CAAC,CAAC;AAC1E"},"metadata":{},"sourceType":"module","externalDependencies":[]}