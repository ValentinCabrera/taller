{"ast":null,"code":"import _slicedToArray from\"C:/Users/gonza/OneDrive/Escritorio/taller/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{getModelos,getClientes,getTecnicos,getVehiculos,postAlterVehiculo,postDeleteVehiculo,postNewVehiculo}from\"../Utils/Fetchs\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Vehiculos(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),currentVehiculo=_useState4[0],setCurrentVehiculo=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),modelos=_useState6[0],setModelos=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),clientes=_useState8[0],setClientes=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),tecnicos=_useState10[0],setTecnicos=_useState10[1];useEffect(function(){updateData();},[data]);function updateData(){getVehiculos().then(function(response){setData(response.filter(function(vehiculo){return vehiculo.estado==true;}));});getModelos().then(function(response){setModelos(response.filter(function(modelo){return modelo.estado==true;}));});getTecnicos().then(function(response){setTecnicos(response.filter(function(tecnico){return tecnico.estado==true;}));});getClientes().then(function(response){setClientes(response.filter(function(cliente){return cliente.estado==true;}));});}function newVehiculo(){var patente=document.getElementById(\"patente\");var modelo=document.getElementById(\"modelo\");var cliente=document.getElementById(\"cliente\");var tecnico=document.getElementById(\"tecnico\");if(patente.value&&modelo.value&&cliente.value&&tecnico.value){postNewVehiculo(patente.value,modelo.value,cliente.value,tecnico.value);patente.value=cliente.value=modelo.value=tecnico.value=\"\";}else alert(\"Por favor, rellena todos los campos\");};function deleteVehiculo(){postDeleteVehiculo(currentVehiculo.patente).then(function(response){setCurrentVehiculo();});setCurrentVehiculo();updateData();};return/*#__PURE__*/_jsxs(\"div\",{className:\"conteiner\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"listado\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Vehiculos\"}),data&&data.map(function(vehiculo){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setCurrentVehiculo(vehiculo);},className:\"entidad\",children:/*#__PURE__*/_jsx(\"p\",{children:vehiculo.patente})},vehiculo.patente);}),currentVehiculo?/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setCurrentVehiculo();},children:\"Crear vehiculo\"}):/*#__PURE__*/_jsx(_Fragment,{})]}),/*#__PURE__*/_jsx(\"div\",{children:currentVehiculo?/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Eliminar vehiculo\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Patente: \",currentVehiculo.patente]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Modelo: \",currentVehiculo.modelo.nombre]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Cliente: \",currentVehiculo.cliente.nombre,\" \",currentVehiculo.cliente.apellido]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Tecnico: \",currentVehiculo.tecnico.nombre,\" \",currentVehiculo.tecnico.apellido]}),/*#__PURE__*/_jsx(\"button\",{onClick:deleteVehiculo,children:\"Eliminar vehiculo\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Crear vehiculo\"}),/*#__PURE__*/_jsx(\"input\",{id:\"patente\",type:\"text\",placeholder:\"Patente\"}),/*#__PURE__*/_jsx(\"select\",{id:\"modelo\",children:modelos&&modelos.map(function(modelo){return/*#__PURE__*/_jsx(\"option\",{value:modelo.id,selected:true,children:modelo.nombre},modelo.id);})}),/*#__PURE__*/_jsx(\"select\",{id:\"cliente\",children:clientes&&clientes.map(function(cliente){return/*#__PURE__*/_jsxs(\"option\",{value:cliente.id,selected:true,children:[cliente.nombre,\" \",cliente.apellido]},cliente.id);})}),/*#__PURE__*/_jsx(\"select\",{id:\"tecnico\",children:tecnicos&&tecnicos.map(function(tecnico){return/*#__PURE__*/_jsxs(\"option\",{value:tecnico.id,selected:true,children:[tecnico.nombre,\" \",tecnico.apellido]},tecnico.id);})}),/*#__PURE__*/_jsx(\"button\",{onClick:newVehiculo,children:\"Guardar vehiculo\"})]})})]});};export default Vehiculos;","map":{"version":3,"names":["useEffect","useState","getModelos","getClientes","getTecnicos","getVehiculos","postAlterVehiculo","postDeleteVehiculo","postNewVehiculo","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Vehiculos","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","currentVehiculo","setCurrentVehiculo","_useState5","_useState6","modelos","setModelos","_useState7","_useState8","clientes","setClientes","_useState9","_useState10","tecnicos","setTecnicos","updateData","then","response","filter","vehiculo","estado","modelo","tecnico","cliente","newVehiculo","patente","document","getElementById","value","alert","deleteVehiculo","className","children","map","onClick","nombre","apellido","id","type","placeholder","selected"],"sources":["C:/Users/gonza/OneDrive/Escritorio/taller/src/Components/Vehiculos.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { getModelos, getClientes, getTecnicos, getVehiculos, postAlterVehiculo, postDeleteVehiculo, postNewVehiculo } from \"../Utils/Fetchs\";\r\n\r\nfunction Vehiculos() {\r\n    const [data, setData] = useState();\r\n    const [currentVehiculo, setCurrentVehiculo] = useState();\r\n    const [modelos, setModelos] = useState();\r\n    const [clientes, setClientes] = useState();\r\n    const [tecnicos, setTecnicos] = useState();\r\n\r\n    useEffect(() => {\r\n        updateData();\r\n    }, [data]);\r\n\r\n    function updateData() {\r\n        getVehiculos()\r\n            .then(response => {\r\n                setData(response.filter(vehiculo => vehiculo.estado == true));\r\n            });\r\n\r\n        getModelos()\r\n            .then(response => {\r\n                setModelos(response.filter(modelo => modelo.estado == true))\r\n            })\r\n\r\n        getTecnicos()\r\n            .then(response => {\r\n                setTecnicos(response.filter(tecnico => tecnico.estado == true))\r\n            })\r\n\r\n        getClientes()\r\n            .then(response => {\r\n                setClientes(response.filter(cliente => cliente.estado == true))\r\n            })\r\n    }\r\n\r\n    function newVehiculo() {\r\n        let patente = document.getElementById(\"patente\");\r\n        let modelo = document.getElementById(\"modelo\");\r\n        let cliente = document.getElementById(\"cliente\");\r\n        let tecnico = document.getElementById(\"tecnico\");\r\n\r\n        if (patente.value && modelo.value && cliente.value && tecnico.value) {\r\n\r\n            postNewVehiculo(patente.value, modelo.value, cliente.value, tecnico.value);\r\n            patente.value = cliente.value = modelo.value = tecnico.value = \"\";\r\n        } else\r\n            alert(\"Por favor, rellena todos los campos\");\r\n    };\r\n\r\n    function deleteVehiculo() {\r\n        postDeleteVehiculo(currentVehiculo.patente)\r\n            .then(response => {\r\n                setCurrentVehiculo();\r\n            });\r\n\r\n        setCurrentVehiculo();\r\n        updateData();\r\n    };\r\n\r\n    return (\r\n        <div className=\"conteiner\">\r\n            <div className=\"listado\">\r\n                <h1>Vehiculos</h1>\r\n                {data && data.map(vehiculo => (\r\n                    <div key={vehiculo.patente} onClick={() => setCurrentVehiculo(vehiculo)} className=\"entidad\">\r\n                        <p>{vehiculo.patente}</p>\r\n                    </div>\r\n                ))}\r\n\r\n                {currentVehiculo ? <button onClick={() => setCurrentVehiculo()}>Crear vehiculo</button> : <></>}\r\n            </div>\r\n            <div>\r\n                {currentVehiculo ?\r\n                    <div className=\"form\">\r\n                        <h2>Eliminar vehiculo</h2>\r\n                        <p>Patente: {currentVehiculo.patente}</p>\r\n                        <p>Modelo: {currentVehiculo.modelo.nombre}</p>\r\n                        <p>Cliente: {currentVehiculo.cliente.nombre} {currentVehiculo.cliente.apellido}</p>\r\n                        <p>Tecnico: {currentVehiculo.tecnico.nombre} {currentVehiculo.tecnico.apellido}</p>\r\n                        <button onClick={deleteVehiculo}>Eliminar vehiculo</button>\r\n                    </div>\r\n                    :\r\n                    <div className=\"form\">\r\n                        <h2>Crear vehiculo</h2>\r\n                        <input id=\"patente\" type=\"text\" placeholder=\"Patente\" />\r\n                        <select id=\"modelo\">\r\n                            {modelos && modelos.map(modelo => (\r\n                                <option value={modelo.id} key={modelo.id} selected>{modelo.nombre}</option>\r\n                            ))}\r\n                        </select>\r\n\r\n                        <select id=\"cliente\">\r\n                            {clientes && clientes.map(cliente => (\r\n                                <option value={cliente.id} key={cliente.id} selected>{cliente.nombre} {cliente.apellido}</option>\r\n                            ))}\r\n                        </select>\r\n\r\n                        <select id=\"tecnico\">\r\n                            {tecnicos && tecnicos.map(tecnico => (\r\n                                <option value={tecnico.id} key={tecnico.id} selected>{tecnico.nombre} {tecnico.apellido}</option>\r\n                            ))}\r\n                        </select>\r\n                        <button onClick={newVehiculo}>Guardar vehiculo</button>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div >\r\n    )\r\n};\r\n\r\nexport default Vehiculos;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}