{"ast":null,"code":"import _slicedToArray from\"C:/Users/gonza/OneDrive/Escritorio/taller/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{getMarcas,postNewMarca,postDeleteMarca}from\"../Utils/Fetchs\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Marcas(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),currentMarca=_useState4[0],setCurrentMarca=_useState4[1];useEffect(function(){updateData();},[data]);function updateData(){getMarcas().then(function(response){setData(response.filter(function(marca){return marca.estado==true;}));});}function newMarca(){var nombre=document.getElementById(\"nombre\");if(nombre.value){postNewMarca(nombre.value);nombre.value=\"\";}else alert(\"Por favor, rellena todos los campos\");};function deleteMarca(){postDeleteMarca(currentMarca.nombre).then(function(response){setCurrentMarca();updateData();});};return/*#__PURE__*/_jsxs(\"div\",{className:\"conteiner\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"listado\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Marcas\"}),data&&data.map(function(marca){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setCurrentMarca(marca);},className:\"entidad\",children:/*#__PURE__*/_jsx(\"p\",{children:marca.nombre})},marca.id);}),currentMarca?/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setCurrentMarca();},children:\"Crear marca\"}):/*#__PURE__*/_jsx(_Fragment,{})]}),/*#__PURE__*/_jsx(\"div\",{children:currentMarca?/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Eliminar Marca\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Marca: \",currentMarca.nombre]}),/*#__PURE__*/_jsx(\"button\",{onClick:deleteMarca,children:\"Eliminar marca\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Crear Marca\"}),/*#__PURE__*/_jsx(\"input\",{id:\"nombre\",type:\"text\",placeholder:\"Nombre\"}),/*#__PURE__*/_jsx(\"button\",{onClick:newMarca,children:\"Guardar marca\"})]})})]});};export default Marcas;","map":{"version":3,"names":["useEffect","useState","getMarcas","postNewMarca","postDeleteMarca","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Marcas","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","currentMarca","setCurrentMarca","updateData","then","response","filter","marca","estado","newMarca","nombre","document","getElementById","value","alert","deleteMarca","className","children","map","onClick","id","type","placeholder"],"sources":["C:/Users/gonza/OneDrive/Escritorio/taller/src/Components/Marcas.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { getMarcas, postNewMarca, postDeleteMarca } from \"../Utils/Fetchs\";\r\n\r\nfunction Marcas() {\r\n    const [data, setData] = useState();\r\n    const [currentMarca, setCurrentMarca] = useState();\r\n\r\n    useEffect(() => {\r\n        updateData();\r\n    }, [data]);\r\n\r\n    function updateData() {\r\n        getMarcas()\r\n            .then(response => {\r\n                setData(response.filter(marca => marca.estado == true));\r\n            });\r\n    }\r\n\r\n    function newMarca() {\r\n        let nombre = document.getElementById(\"nombre\");\r\n\r\n        if (nombre.value) {\r\n\r\n            postNewMarca(nombre.value);\r\n            nombre.value = \"\";\r\n        }\r\n        else\r\n            alert(\"Por favor, rellena todos los campos\");\r\n    };\r\n\r\n    function deleteMarca() {\r\n        postDeleteMarca(currentMarca.nombre)\r\n            .then(response => {\r\n                setCurrentMarca();\r\n                updateData();\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div className=\"conteiner\">\r\n            <div className=\"listado\">\r\n                <h1>Marcas</h1>\r\n                {data && data.map(marca => (\r\n                    <div key={marca.id} onClick={() => setCurrentMarca(marca)} className=\"entidad\">\r\n                        <p>{marca.nombre}</p>\r\n                    </div>\r\n                ))}\r\n\r\n                {currentMarca ? <button onClick={() => setCurrentMarca()}>Crear marca</button> : <></>}\r\n            </div>\r\n            <div>\r\n                {currentMarca ?\r\n                    <div className=\"form\">\r\n                        <h2>Eliminar Marca</h2>\r\n                        <p>Marca: {currentMarca.nombre}</p>\r\n                        <button onClick={deleteMarca}>Eliminar marca</button>\r\n                    </div>\r\n                    :\r\n                    <div className=\"form\">\r\n                        <h2>Crear Marca</h2>\r\n                        <input id=\"nombre\" type=\"text\" placeholder=\"Nombre\" />\r\n                        <button onClick={newMarca}>Guardar marca</button>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div >\r\n    )\r\n};\r\n\r\nexport default Marcas;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}