{"ast":null,"code":"import _slicedToArray from\"C:/Users/gonza/OneDrive/Escritorio/taller/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{getTecnicos,postAlterTecnico,postDeleteTecnico,postNewTecnico,postNewVehiculo}from\"../Utils/Fetchs\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Tecnicos(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),currentTecnico=_useState4[0],setCurrentTecnico=_useState4[1];useEffect(function(){updateData();},[data]);function updateData(){getTecnicos().then(function(response){setData(response.filter(function(tecnico){return tecnico.estado==true;}));});}function newTecnico(){var nombre=document.getElementById(\"nombre\");var apellido=document.getElementById(\"apellido\");var telefono=document.getElementById(\"telefono\");if(nombre.value&&apellido.value&&telefono.value){postNewTecnico(nombre.value,apellido.value,telefono.value);nombre.value=apellido.value=telefono.value=\"\";}else alert(\"Por favor, rellena todos los campos\");};function alterTecnico(){var nombre=document.getElementById(\"aNombre\");var apellido=document.getElementById(\"aApellido\");var telefono=document.getElementById(\"aTelefono\");var tecnico={\"id\":currentTecnico.id};if(nombre.value)tecnico.nombre=nombre.value;if(apellido.value)tecnico.apellido=apellido.value;if(telefono.value)tecnico.telefono=telefono.value;postAlterTecnico(tecnico);nombre.value=apellido.value=telefono.value=\"\";setCurrentTecnico();}function deleteTecnico(){postDeleteTecnico(currentTecnico.id).then(function(response){setCurrentTecnico();});setCurrentTecnico();updateData();};function verificarNum(event){var inputValue=event.target.value;if(isNaN(inputValue)){alert(\"Por favor, ingresa solo números.\");event.target.value=\"\";// Limpiar el valor del campo si no es un número\n}}return/*#__PURE__*/_jsxs(\"div\",{className:\"conteiner\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"listado\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Tecnicos\"}),data&&data.map(function(tecnico){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setCurrentTecnico(tecnico);},className:\"entidad\",children:/*#__PURE__*/_jsxs(\"p\",{children:[tecnico.nombre,\" \",tecnico.apellido]})},tecnico.id);}),currentTecnico?/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setCurrentTecnico();},children:\"Crear tecnico\"}):/*#__PURE__*/_jsx(_Fragment,{})]}),/*#__PURE__*/_jsx(\"div\",{children:currentTecnico?/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Modificar tecnico\"}),/*#__PURE__*/_jsx(\"input\",{id:\"aNombre\",type:\"text\",placeholder:currentTecnico.nombre}),/*#__PURE__*/_jsx(\"input\",{id:\"aApellido\",type:\"text\",placeholder:currentTecnico.apellido}),/*#__PURE__*/_jsx(\"input\",{id:\"aTelefono\",onChange:function onChange(event){return verificarNum(event);},type:\"text\",placeholder:currentTecnico.telefono}),/*#__PURE__*/_jsx(\"button\",{onClick:alterTecnico,children:\"Modificar tecnico\"}),/*#__PURE__*/_jsx(\"button\",{onClick:deleteTecnico,children:\"Eliminar tecnico\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Crear tecnico\"}),/*#__PURE__*/_jsx(\"input\",{id:\"nombre\",type:\"text\",placeholder:\"Nombre\"}),/*#__PURE__*/_jsx(\"input\",{id:\"apellido\",type:\"text\",placeholder:\"Apellido\"}),/*#__PURE__*/_jsx(\"input\",{id:\"telefono\",onChange:function onChange(event){return verificarNum(event);},type:\"text\",placeholder:\"Telefono\"}),/*#__PURE__*/_jsx(\"button\",{onClick:newTecnico,children:\"Guardar tecnico\"})]})})]});};export default Tecnicos;","map":{"version":3,"names":["useEffect","useState","getTecnicos","postAlterTecnico","postDeleteTecnico","postNewTecnico","postNewVehiculo","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Tecnicos","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","currentTecnico","setCurrentTecnico","updateData","then","response","filter","tecnico","estado","newTecnico","nombre","document","getElementById","apellido","telefono","value","alert","alterTecnico","id","deleteTecnico","verificarNum","event","inputValue","target","isNaN","className","children","map","onClick","type","placeholder","onChange"],"sources":["C:/Users/gonza/OneDrive/Escritorio/taller/src/Components/Tecnicos.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { getTecnicos, postAlterTecnico, postDeleteTecnico, postNewTecnico, postNewVehiculo } from \"../Utils/Fetchs\";\r\n\r\nfunction Tecnicos() {\r\n    const [data, setData] = useState();\r\n    const [currentTecnico, setCurrentTecnico] = useState();\r\n\r\n    useEffect(() => {\r\n        updateData();\r\n    }, [data]);\r\n\r\n    function updateData() {\r\n        getTecnicos()\r\n            .then(response => {\r\n                setData(response.filter(tecnico => tecnico.estado == true));\r\n            });\r\n    }\r\n\r\n    function newTecnico() {\r\n        let nombre = document.getElementById(\"nombre\");\r\n        let apellido = document.getElementById(\"apellido\");\r\n        let telefono = document.getElementById(\"telefono\");\r\n\r\n        if (nombre.value && apellido.value && telefono.value) {\r\n\r\n\r\n\r\n            postNewTecnico(nombre.value, apellido.value, telefono.value);\r\n            nombre.value = apellido.value = telefono.value = \"\";\r\n        }\r\n        else\r\n            alert(\"Por favor, rellena todos los campos\");\r\n    };\r\n\r\n    function alterTecnico() {\r\n        let nombre = document.getElementById(\"aNombre\");\r\n        let apellido = document.getElementById(\"aApellido\");\r\n        let telefono = document.getElementById(\"aTelefono\");\r\n\r\n        let tecnico = { \"id\": currentTecnico.id }\r\n\r\n        if (nombre.value) tecnico.nombre = nombre.value;\r\n        if (apellido.value) tecnico.apellido = apellido.value;\r\n        if (telefono.value) tecnico.telefono = telefono.value;\r\n\r\n        postAlterTecnico(tecnico);\r\n        nombre.value = apellido.value = telefono.value = \"\";\r\n        setCurrentTecnico();\r\n    }\r\n\r\n    function deleteTecnico() {\r\n        postDeleteTecnico(currentTecnico.id)\r\n            .then(response => {\r\n                setCurrentTecnico();\r\n            });\r\n\r\n        setCurrentTecnico();\r\n        updateData();\r\n    };\r\n\r\n    function verificarNum(event) {\r\n        const inputValue = event.target.value;\r\n\r\n        if (isNaN(inputValue)) {\r\n            alert(\"Por favor, ingresa solo números.\");\r\n            event.target.value = \"\"; // Limpiar el valor del campo si no es un número\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"conteiner\">\r\n            <div className=\"listado\">\r\n                <h1>Tecnicos</h1>\r\n                {data && data.map(tecnico => (\r\n                    <div key={tecnico.id} onClick={() => setCurrentTecnico(tecnico)} className=\"entidad\">\r\n                        <p>{tecnico.nombre} {tecnico.apellido}</p>\r\n                    </div>\r\n                ))}\r\n\r\n                {currentTecnico ? <button onClick={() => setCurrentTecnico()}>Crear tecnico</button> : <></>}\r\n            </div>\r\n            <div>\r\n                {currentTecnico ?\r\n                    <div className=\"form\">\r\n                        <h2>Modificar tecnico</h2>\r\n                        <input id=\"aNombre\" type=\"text\" placeholder={currentTecnico.nombre} />\r\n                        <input id=\"aApellido\" type=\"text\" placeholder={currentTecnico.apellido} />\r\n                        <input id=\"aTelefono\" onChange={(event) => verificarNum(event)} type=\"text\" placeholder={currentTecnico.telefono} />\r\n                        <button onClick={alterTecnico}>Modificar tecnico</button>\r\n                        <button onClick={deleteTecnico}>Eliminar tecnico</button>\r\n                    </div>\r\n                    :\r\n                    <div className=\"form\">\r\n                        <h2>Crear tecnico</h2>\r\n                        <input id=\"nombre\" type=\"text\" placeholder=\"Nombre\" />\r\n                        <input id=\"apellido\" type=\"text\" placeholder=\"Apellido\" />\r\n                        <input id=\"telefono\" onChange={(event) => verificarNum(event)} type=\"text\" placeholder=\"Telefono\" />\r\n                        <button onClick={newTecnico}>Guardar tecnico</button>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div >\r\n    )\r\n};\r\n\r\nexport default Tecnicos;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}